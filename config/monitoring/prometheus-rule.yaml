apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  labels:
    openshift.io/prometheus-rule-evaluation-scope: leaf-prometheus
    prometheus.kubemacpool.io: "true"
  name: prometheus-rule
  namespace: kubemacpool-system
spec:
  groups:
  - name: alerts.rules
    rules:
    - alert: KubemacpoolMACCollisionDetected
      annotations:
        description: '{{ $value }} MAC address(es) have collisions. Multiple running
          objects are using the same MAC address.'
        summary: MAC address collisions detected.
      expr: count(kmp_mac_collisions > 1) > 0
      for: 30s
      labels:
        operator_health_impact: warning
        severity: warning
